name: ğŸ› ï¸ ì§€ì†ì  í†µí•© (CI)

on:
    push:
        branches:
            - main
    pull_request:

jobs:
    ğŸ“¦ ì˜ì¡´ì„± ì„¤ì¹˜:
        runs-on: ubuntu-latest
        # strategy:
        #   matrix:
        #     next: [13.4.0, 14.2.21]
        #     react: [18.2.0]
        steps:
            - uses: actions/checkout@v4
            - uses: pnpm/action-setup@v4
            - name: ğŸ§° Node.js ì„¤ì •
              uses: actions/setup-node@v4
              with:
                  node-version: '20'
                  cache: 'pnpm'
            - name: ğŸ“¥ ì˜ì¡´ì„± ì„¤ì¹˜
              run: pnpm install --frozen-lockfile

    ğŸ—ï¸ ë¹Œë“œ:
        needs: ğŸ“¦ ì˜ì¡´ì„± ì„¤ì¹˜
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v4
            - uses: pnpm/action-setup@v4
            - uses: actions/setup-node@v4
              with:
                  node-version: '20'
                  cache: 'pnpm'
            - name: ğŸ“¥ ì˜ì¡´ì„± ì¬ì„¤ì¹˜
              run: pnpm install --frozen-lockfile
            - name: ğŸ—ï¸ í”„ë¡œì íŠ¸ ë¹Œë“œ
              run: pnpm run build
            # - name: ğŸ§ª í…ŒìŠ¤íŠ¸ ì‹¤í–‰
            #   run: pnpm run test

    ğŸ§¹ ì½”ë“œ ì •ë¦¬ & ë¦°íŠ¸:
        needs: ğŸ“¦ ì˜ì¡´ì„± ì„¤ì¹˜
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v4
            - uses: pnpm/action-setup@v4
            - uses: actions/setup-node@v4
              with:
                  node-version: '20'
                  cache: 'pnpm'
            - name: ğŸ“¥ ì˜ì¡´ì„± ì¬ì„¤ì¹˜
              run: pnpm install --frozen-lockfile
            - name: ğŸ” ë¦°íŠ¸ ê²€ì‚¬
              run: pnpm run lint
            - name: ğŸ¨ í”„ë¦¬í‹°ì–´ ê²€ì‚¬
              run: pnpm run prettier
